# æƒé™ç®¡ç†åŠŸèƒ½æ¼”ç¤º

## åŠŸèƒ½æ¦‚è§ˆ

å·²æˆåŠŸå®ç°äº†æƒé™ç®¡ç†çš„æœ€å°åŒ–åŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š

### 1. æ ¸å¿ƒé¡µé¢
- âœ… **æƒé™ç®¡ç†å¸ƒå±€é¡µé¢** (`/admin/permission`) - æä¾›ç»Ÿä¸€çš„æƒé™ç®¡ç†ç•Œé¢æ¡†æ¶
- âœ… **è§’è‰²ç®¡ç†é¡µé¢** (`/admin/permission/roles`) - è§’è‰²çš„CRUDæ“ä½œå’Œæƒé™åˆ†é…
- âœ… **æƒé™ç®¡ç†é¡µé¢** (`/admin/permission/permissions`) - æƒé™æŸ¥çœ‹å’Œç®¡ç†
- âœ… **ç”¨æˆ·æƒé™ç®¡ç†é¡µé¢** (`/admin/permission/user-roles`) - ç”¨æˆ·è§’è‰²åˆ†é…å’Œæƒé™é¢„è§ˆ

### 2. æŠ€æœ¯æ¶æ„
- âœ… **è·¯ç”±é…ç½®** - åµŒå¥—è·¯ç”±ç»“æ„ï¼Œæ”¯æŒæƒé™éªŒè¯
- âœ… **æƒé™éªŒè¯æŒ‡ä»¤** - `v-permission`, `v-role`, `v-admin`, `v-auth`, `v-guest`
- âœ… **çŠ¶æ€ç®¡ç†** - åŸºäºPiniaçš„è§’è‰²å’Œæƒé™çŠ¶æ€ç®¡ç†
- âœ… **ç»„åˆå¼å‡½æ•°** - å°è£…æƒé™ç®¡ç†ä¸šåŠ¡é€»è¾‘
- âœ… **å·¥å…·å‡½æ•°** - æƒé™éªŒè¯ã€æ ¼å¼åŒ–ç­‰å·¥å…·æ–¹æ³•

### 3. åŸºç¡€ç»„ä»¶
- âœ… **RoleTable** - è§’è‰²è¡¨æ ¼ç»„ä»¶
- âœ… **PermissionTree** - æƒé™æ ‘ç»„ä»¶
- âœ… **RoleEditDialog** - è§’è‰²ç¼–è¾‘å¯¹è¯æ¡†

## è®¿é—®è·¯å¾„

å¼€å‘æœåŠ¡å™¨: http://localhost:5000/

æƒé™ç®¡ç†é¡µé¢è®¿é—®è·¯å¾„ï¼š
- è§’è‰²ç®¡ç†: `/#/admin/permission/roles`
- æƒé™ç®¡ç†: `/#/admin/permission/permissions`
- ç”¨æˆ·æƒé™: `/#/admin/permission/user-roles`

## æƒé™éªŒè¯æŒ‡ä»¤ä½¿ç”¨ç¤ºä¾‹

```vue
<!-- æƒé™éªŒè¯ -->
<el-button v-permission="'user.create'">åˆ›å»ºç”¨æˆ·</el-button>
<el-button v-permission="{ resource: 'user', action: 'delete' }">åˆ é™¤ç”¨æˆ·</el-button>

<!-- å¤šæƒé™éªŒè¯ -->
<div v-permission="{ permissions: ['user.create', 'user.update'], logic: 'OR' }">
  ç”¨æˆ·æ“ä½œåŒºåŸŸ
</div>

<!-- è§’è‰²éªŒè¯ -->
<el-button v-role="'admin'">ç®¡ç†å‘˜åŠŸèƒ½</el-button>
<div v-role="['admin', 'moderator']">ç®¡ç†è€…åŠŸèƒ½</div>

<!-- ç®¡ç†å‘˜æƒé™ -->
<el-button v-admin>ä»…ç®¡ç†å‘˜å¯è§</el-button>

<!-- è®¤è¯çŠ¶æ€ -->
<el-button v-auth>éœ€è¦ç™»å½•</el-button>
<el-button v-guest>æœªç™»å½•å¯è§</el-button>
```

## è·¯ç”±æƒé™é…ç½®

è·¯ç”±metaå­—æ®µæ”¯æŒæƒé™éªŒè¯ï¼š

```typescript
{
  path: 'admin/permission/roles',
  name: 'permission-roles',
  component: RoleManagement,
  meta: { 
    requiresAuth: true, 
    requiresAdmin: true, 
    title: 'è§’è‰²ç®¡ç†',
    permissions: { resource: 'role', action: 'view' }
  },
}
```

## çŠ¶æ€ç®¡ç†

### useRoleManagement
- è§’è‰²CRUDæ“ä½œ
- è§’è‰²æƒé™åˆ†é…
- æœç´¢ã€ç­›é€‰ã€åˆ†é¡µ
- æ‰¹é‡æ“ä½œ

### usePermissionManagement  
- æƒé™æŸ¥çœ‹å’Œç®¡ç†
- æƒé™æ ‘å½¢ç»“æ„
- æƒé™æœç´¢ç­›é€‰

### useAuth
- æƒé™æ£€æŸ¥: `hasPermission()`, `hasAnyPermission()`, `hasAllPermissions()`
- è§’è‰²æ£€æŸ¥: `hasRole()`, `hasAnyRole()`, `hasAllRoles()`
- ç®¡ç†å‘˜æ£€æŸ¥: `isAdmin`

## ç‰¹æ€§

- ğŸ“± **å“åº”å¼è®¾è®¡** - æ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- ğŸ¨ **Element Plus** - ç»Ÿä¸€çš„UIè®¾è®¡è¯­è¨€
- ğŸ” **ç»†ç²’åº¦æƒé™æ§åˆ¶** - æ”¯æŒèµ„æºçº§åˆ«çš„æƒé™éªŒè¯
- ğŸŒ³ **æƒé™æ ‘å½¢ç»“æ„** - æ¸…æ™°çš„æƒé™å±‚çº§å±•ç¤º
- ğŸ” **æœç´¢å’Œç­›é€‰** - å¿«é€Ÿå®šä½æƒé™å’Œè§’è‰²
- ğŸ“Š **ç»Ÿè®¡ä¿¡æ¯** - æƒé™å’Œè§’è‰²çš„ç»Ÿè®¡å±•ç¤º
- âš¡ **æ€§èƒ½ä¼˜åŒ–** - æ‡’åŠ è½½å’Œè™šæ‹ŸåŒ–æ”¯æŒ

## ä¸‹ä¸€æ­¥

å¦‚éœ€è¿›ä¸€æ­¥å®Œå–„ï¼Œå¯ä»¥è€ƒè™‘ï¼š

1. **ä¸åç«¯APIé›†æˆ** - è¿æ¥çœŸå®çš„æƒé™ç®¡ç†API
2. **æ›´å¤šUIç»„ä»¶** - æƒé™åˆ†é…å¯¹è¯æ¡†ç­‰
3. **å®¡è®¡æ—¥å¿—** - æƒé™å˜æ›´å†å²è®°å½•
4. **æƒé™æ¨¡æ¿** - é¢„å®šä¹‰çš„æƒé™ç»„åˆ
5. **æƒé™å¯¼å…¥å¯¼å‡º** - é…ç½®çš„æ‰¹é‡æ“ä½œ

## æµ‹è¯•

å½“å‰å®ç°åŒ…å«äº†å®Œæ•´çš„å•å…ƒæµ‹è¯•ï¼Œå¯ä»¥è¿è¡Œï¼š

```bash
npm run test:unit
```

æ£€æŸ¥æƒé™å·¥å…·å‡½æ•°çš„æµ‹è¯•è¦†ç›–ç‡ã€‚